# =============================================================================
# Neopilot-AI/CNI Unified Dependency Management
# =============================================================================
# This file serves as the Single Source of Truth for all build components
# =============================================================================
# Version: 2.0.0
# Last Updated: 2026-01-31

# =============================================================================
# Base Images
# =============================================================================
BASE_DEBIAN_VERSION=bookworm-slim
BASE_ALPINE_VERSION=3.19
BASE_UBI_VERSION=8.7

# =============================================================================
# Language Runtime Versions
# =============================================================================
PYTHON_VERSION=3.12.7
PYTHON_MAJOR_VERSION=3.12
GO_VERSION=1.22.12
GO_MAJOR_VERSION=1.22
NODE_VERSION=20.10.0
NODE_MAJOR_VERSION=20
RUST_VERSION=1.75.0
PHP_VERSION=8.3.12
JAVA_VERSION=21.0.3
RUBY_VERSION=3.3.5
ELIXIR_VERSION=1.17.3
OTP_VERSION=27.1.2
DOTNET_VERSION=8.0.7
GCC_VERSION=13.3.0

# =============================================================================
# Tool Versions
# =============================================================================
DOCKER_VERSION=27.0.3
KUBECTL_VERSION=1.30.1
POSTGRESQL_VERSION=16.1
GIT_VERSION=2.45.1
CHROME_VERSION=120.0.6099.129
NGINX_VERSION=1.25.4
MYSQL_VERSION=8.3.0

# =============================================================================
# Security & Compliance
# =============================================================================
BASE_USER_UID=10001
BASE_USER_GID=10001
BASE_USERNAME=appuser
CERT_USER_UID=1001
GIT_USER_UID=65534

# =============================================================================
# Build Configuration
# =============================================================================
BUILD_PLATFORMS=linux/amd64,linux/arm64
BUILD_CACHE_MOUNT=type=cache,target=/var/cache/apt
BUILDKIT_CACHE_MOUNT=type=cache,mode=0755,target=/root/.cache
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# =============================================================================
# Performance Targets
# =============================================================================
MAX_BASE_IMAGE_SIZE_MB=80
MAX_STARTUP_TIME_SECONDS=2
MAX_BUILD_TIME_MINUTES=8

# =============================================================================
# Registry Configuration
# =============================================================================
DEFAULT_REGISTRY=ghcr.io
IMAGE_NAMESPACE=neopilot-ai/cni
IMAGE_TAG_PREFIX=v2

# =============================================================================
# Security Scanning Configuration
# =============================================================================
SECURITY_SCAN_THRESHOLD=HIGH,MEDIUM,CRITICAL
SBOM_FORMAT=spdx,cyclonedx
IMAGE_SIGNING_ENABLED=true

# =============================================================================
# Observability Configuration
# =============================================================================
LOG_FORMAT=json
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# Development Configuration
# =============================================================================
DEV_ENVIRONMENT_ENABLED=true
HOT_RELOAD_ENABLED=true
DEBUG_MODE=false

# =============================================================================
# Cache Configuration
# =============================================================================
BUILD_CACHE_ENABLED=true
CACHE_RETENTION_DAYS=30
PARALLEL_BUILDS=4

# =============================================================================
# Quality Gates
# =============================================================================
MIN_TEST_COVERAGE_PERCENT=90
MAX_VULNERABILITIES_CRITICAL=0
MAX_VULNERABILITIES_HIGH=0
MAX_VULNERABILITIES_MEDIUM=5
